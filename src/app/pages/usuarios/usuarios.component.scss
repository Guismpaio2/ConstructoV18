@import "../../../styles/variables"; // Importa as variáveis de cor e espaçamento

.main-content-container {
  padding: $spacing-l; // Padding geral para o conteúdo principal
  background-color: $color-background-light; // Fundo geral da página
  min-height: calc(
    100vh - 60px
  ); // Ajusta para a altura da tela, considerando a navbar
  display: flex;
  flex-direction: column;
}

.page-header {
  margin-bottom: $spacing-l;
  h1 {
    color: $color-primary-dark; // Cor do título da página
    font-size: $font-size-h2; // Reajustado para ser um pouco menor que H1
    font-weight: 700; // Bold para o título
  }
}

.search-filter-bar {
  display: flex;
  gap: $spacing-m; // Espaçamento entre os elementos da barra
  margin-bottom: $spacing-xl; // Espaçamento abaixo da barra de pesquisa
  flex-wrap: wrap; // Permite que os itens quebrem para a próxima linha em telas menores
  align-items: center; // Alinha os itens da barra verticalmente

  .search-input {
    flex-grow: 1;
    min-width: 250px; // Garante que o input de pesquisa não fique muito pequeno
    position: relative; // Necessário para posicionar o ícone de busca

    input {
      width: 100%; // Ocupa 100% da largura do seu container
      background-color: $color-background-card;
      border: 1px solid $color-border-input;
      border-radius: $border-radius-medium; // Bordas mais arredondadas
      padding: $spacing-xs $spacing-s $spacing-xs $spacing-xl; // Aumenta o padding para o ícone

      &:focus {
        outline: none; // Remove o outline padrão
        border-color: $color-brand-base;
        box-shadow: 0 0 0 2px rgba($color-brand-base, 0.2);
      }
    }

    .search-icon {
      position: absolute;
      left: $spacing-s; // Ajusta a posição do ícone da lupa
      top: 50%;
      transform: translateY(-50%);
      color: $color-text-secondary; // Cor mais suave para o ícone
      pointer-events: none; // Permite clicar no input mesmo com o ícone
    }
  }

  select {
    padding: $spacing-xs $spacing-s;
    border-radius: $border-radius-medium; // Bordas mais arredondadas
    border: 1px solid $color-border-input;
    background-color: $color-background-card;
    color: $color-text-dark;
    font-size: $font-size-base;
    cursor: pointer;
    appearance: none; // Remove o estilo padrão do select para permitir customização total
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%236c757d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>'); // Ícone de seta para baixo
    background-repeat: no-repeat;
    background-position: right $spacing-s center; // Ajuste a posição do ícone da seta
    background-size: 16px; // Tamanho do ícone
    min-width: 150px; // Garante que os selects tenham uma largura mínima decente

    &:focus {
      outline: none;
      border-color: $color-brand-base;
      box-shadow: 0 0 0 2px rgba($color-brand-base, 0.2);
    }
  }
}

.alert {
  padding: $spacing-m;
  margin-bottom: $spacing-xl;
  border-radius: $border-radius-medium;
  font-size: $font-size-large;
  text-align: center;
  color: $color-text-dark; // Cor de texto genérica para alertas
}

.alert-info {
  background-color: lighten(
    $color-primary-light,
    30%
  ); // Um azul mais claro para info
  border: 1px solid lighten($color-primary-light, 20%);
  color: darken($color-primary-light, 20%);
}

.users-grid {
  display: grid;
  grid-template-columns: repeat(
    auto-fill,
    minmax(280px, 1fr)
  ); // Cards responsivos
  gap: $spacing-l; // Espaçamento entre os cards
  justify-content: center; // Centraliza os cards quando não preenchem a linha toda
  flex-grow: 1; // Permite que a grade ocupe o espaço restante
}

.user-card {
  background-color: $color-background-card;
  border-radius: $border-radius-large; // Bordas mais arredondadas para o card
  box-shadow: $box-shadow-medium; // Sombra mais proeminente
  padding: $spacing-l; // Aumenta o padding interno do card
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; // Transição para hover

  &:hover {
    transform: translateY(-5px); // Efeito de levantar no hover
    box-shadow: $box-shadow-heavy; // Sombra mais forte no hover
  }

  .profile-section {
    margin-bottom: $spacing-m;
  }

  .profile-circle {
    width: 100px; // Aumenta o tamanho do círculo do perfil
    height: 100px;
    background-color: $color-brand-base;
    border-radius: 50%;
    display: flex;
    justify-content: center; // Centraliza horizontalmente
    align-items: center; // Centraliza verticalmente
    margin-bottom: $spacing-s;
    box-shadow: $box-shadow-light; // Sombra para o círculo do perfil

    .fas.fa-user {
      font-size: 50px; // Tamanho do ícone
      color: $color-text-light;
      line-height: 1; // Garante que o ícone não tenha espaçamento extra de linha
    }
  }

  h4 {
    color: $color-primary-dark; // Cor do nome do usuário
    font-size: $font-size-h5; // Tamanho da fonte para o nome
    margin-bottom: $spacing-xs;
    font-weight: 600; // Semi Bold para o nome
    word-break: break-word; // Permite quebra de palavra para nomes longos
    max-width: 100%; // Garante que o nome não vaze do card
  }

  .details-section {
    width: 100%;
    margin-top: $spacing-m;
  }

  .user-info-detail {
    margin-bottom: $spacing-s;

    // Altera o estilo do div interno para o layout do card
    > div {
      // Aplica ao div diretamente dentro de .user-info-detail
      background-color: $color-background-light; // Fundo cinza claro para cada detalhe
      padding: $spacing-xs $spacing-m;
      border-radius: $border-radius-small;
      display: flex;
      justify-content: space-between; // Espaça label e valor
      align-items: center; // Alinha verticalmente
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05); // Sombra interna sutil
      min-height: 40px; // Garante uma altura mínima para todos os detalhes
    }

    label {
      font-weight: 500; // Medium weight para as labels
      color: $color-text-secondary; // Cor mais suave para as labels
      font-size: $font-size-small;
      white-space: nowrap; // Evita quebra de linha para a label
      margin-right: $spacing-xs; // Espaçamento entre label e valor
      flex-shrink: 0; // Evita que a label encolha
    }

    span {
      color: $color-text-dark;
      font-size: $font-size-base;
      font-weight: normal;
      text-align: right; // Alinha o valor à direita
      flex-grow: 1; // Permite que o span ocupe o espaço restante
      word-break: break-all; // Permite quebra de palavra longa dentro do span (ex: email longo)
      overflow: hidden; // Esconde o conteúdo que transborda
      text-overflow: ellipsis; // Adiciona reticências se o texto for muito longo
      white-space: normal; // Permite quebra de linha para valores longos se necessário
    }

    &.role-select-group {
      display: flex;
      flex-direction: column; // Empilha label e select
      align-items: flex-start; // Alinha a label à esquerda

      label {
        margin-bottom: $spacing-xxs; // Espaçamento entre label e select
        align-self: flex-start; // Alinha a label à esquerda
      }

      select {
        width: 100%;
        padding: $spacing-xs;
        border-radius: $border-radius-small;
        border: 1px solid $color-border;
        background-color: $color-background-card;
        color: $color-text-dark;
        font-size: $font-size-base;
        cursor: pointer;
        appearance: none; // Remove o estilo padrão do select
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="%236c757d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>');
        background-repeat: no-repeat;
        background-position: right $spacing-xs center;
        background-size: 16px;

        &:focus {
          outline: none;
          border-color: $color-brand-base;
          box-shadow: 0 0 0 2px rgba($color-brand-base, 0.2);
        }

        &:disabled {
          background-color: lighten(
            $color-background-light,
            3%
          ); // Fundo ligeiramente diferente para desabilitado
          cursor: not-allowed;
          opacity: 0.7;
          color: $color-text-medium; // Cor do texto mais suave para disabled
        }
      }
    }
  }

  .btn-delete-user {
    background-color: $color-error;
    color: $color-text-light;
    padding: $spacing-s $spacing-l;
    border-radius: $border-radius-medium;
    border: none;
    cursor: pointer;
    font-size: $font-size-base;
    margin-top: $spacing-m; // Espaçamento acima do botão
    width: 100%; // Ocupa a largura total do card
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: $spacing-xxs; // Espaçamento entre ícone e texto
    box-shadow: $box-shadow-sm; // Sombra sutil para o botão

    &:hover {
      background-color: darken($color-error, 10%);
      box-shadow: $box-shadow-medium; // Aumenta a sombra no hover
    }

    &:active {
      background-color: darken($color-error, 20%);
      box-shadow: none; // Remove a sombra no active
    }

    .fas.fa-trash-alt {
      font-size: $font-size-base;
    }
  }
}

// Media Queries para responsividade
@media (max-width: 768px) {
  .main-content-container {
    padding: $spacing-m;
  }

  .page-header {
    h1 {
      font-size: $font-size-h3;
    }
  }

  .search-filter-bar {
    flex-direction: column; // Empilha os itens em telas menores
    gap: $spacing-s; // Reduz o espaçamento

    .search-input,
    select {
      width: 100%; // Ocupa toda a largura disponível
      min-width: unset; // Remove o min-width
    }
  }

  .users-grid {
    grid-template-columns: 1fr; // Um card por linha em telas muito pequenas
    gap: $spacing-m; // Reduz o espaçamento
  }

  .user-card {
    width: 100%; // Cards ocupam toda a largura em telas menores
    max-width: 380px; // Aumenta um pouco o max-width para melhor visualização em celulares maiores
    margin: 0 auto; // Centraliza os cards
  }
}

// Media Query para telas menores que 480px (celulares)
@media (max-width: 480px) {
  .main-content-container {
    padding: $spacing-s; // Diminui ainda mais o padding em telas muito pequenas
  }

  .page-header {
    h1 {
      font-size: $font-size-h4; // Título menor para telas muito pequenas
    }
  }

  .search-filter-bar {
    gap: $spacing-xs; // Reduz o espaçamento entre elementos da barra
  }

  .user-card {
    padding: $spacing-m; // Reduz o padding do card em telas muito pequenas
    .profile-circle {
      width: 80px; // Reduz o círculo do perfil
      height: 80px;
      .fas.fa-user {
        font-size: 40px; // Reduz o ícone do perfil
      }
    }
    h4 {
      font-size: $font-size-base; // Reduz o nome do usuário
    }
    .user-info-detail {
      label,
      span {
        font-size: $font-size-small; // Reduz o texto dos detalhes
      }
    }
    .btn-delete-user {
      padding: $spacing-xs $spacing-m; // Reduz o padding do botão
      font-size: $font-size-small; // Reduz o texto do botão
    }
  }
}
